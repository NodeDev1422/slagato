"use strict";!function(a){function n(){a(window).width()<768?(a(".footer__menu .has-dropdown").on("click",function(){a(this).toggleClass("arrow-down"),a(".arrow-down .toggle-menu").slideToggle("slow")}),a(".footer__menu .has-dropdown").on("click",function(e){e.preventDefault();var t=a(this).find(".sub-menu");t.hasClass("show")?t.removeClass("show"):(t.parent().find(".sub-menu").removeClass("show"),t.toggleClass("show"))})):(a(".footer__menu .has-dropdown").off("click"),a(".footer__menu .has-dropdown").off("click"))}function o(e){e.value.trim()&&(iti.isValidNumber()?(e.parentElement.parentElement.classList.remove("has-error"),e.parentElement.parentElement.classList.add("has-success"),e.parentElement.removeAttribute("id")):(e.parentElement.parentElement.classList.remove("has-success"),e.parentElement.parentElement.classList.add("has-error"),e.parentElement.setAttribute("id","phone-no-success")))}a(document).ready(function(){var t=document.querySelector("#phone"),e=document.querySelector("#country");window.iti=window.intlTelInput(t,{utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/8.4.6/js/utils.js"}),e.value=iti.getSelectedCountryData().name.replace(/\s*\(.*?\)\s*/g,""),t.addEventListener("countrychange",function(){e.value=iti.getSelectedCountryData().name.replace(/\s*\(.*?\)\s*/g,""),o(t)}),t.addEventListener("input",function(e){o(t)}),a(".mobile-app-guide11").length&&(a(".js-thx__link").attr("href","https://www.intellectsoft.net/bloggg/wp-content/uploads/Guide-Digital-Transformation-in-Hospitality.pdf"),a(".js-thx__image").prepend('<img src="https://www.intellectsoft.net/bloggg/wp-content/uploads/book-mockup-1-1.png" alt="">')),n(),AOS.init(),a(".main-header").on("click",".main-btn",function(e){e.preventDefault();var t=a(this).attr("href"),n=a(t).offset().top;a("body,html").animate({scrollTop:n},1500)})}),a(window).resize(function(){n()})}(jQuery),window.onload=function(){$.validator.addMethod("englishsonly",function(e,t){return this.optional(t)||/^[a-z ]+$/i.test(e)},"Only latin letters are allowed."),$.validator.addMethod("itivalidnumber",function(e,t){return iti.isValidNumber()},"Invalid number."),$(".contact-form form").each(function(){$(this).validate({errorClass:"has-error",validClass:"has-success",showErrors:function(e){e.attach&&Notify(uploadErrorMessage,notifyDelay),this.defaultShowErrors()},highlight:function(e,t,n){var a=$(e);"phone"!==a.attr("name")?$(e).parent().addClass(t).removeClass(n):a.parent().parent().addClass(t).removeClass(n)},unhighlight:function(e,t,n){$(e).parent().removeClass(t).addClass(n)},rules:{name:{required:!0,englishsonly:!0,maxlength:255},last_name:{required:!0,englishsonly:!0,maxlength:255},phone:{required:!0,number:!0,maxlength:255,minlength:5},company:{required:!0,englishsonly:!0,maxlength:255},country:{required:!0},size:{required:!0},email:{required:{depends:function(){return $(this).val($.trim($(this).val())),!0}},email:!0,maxlength:255}},messages:{email:{email:"Please use your corporate email",required:!1},phone:!1,country:!1,size:!1,company:!1,last_name:!1,name:!1,position:!1},submitHandler:function(e,t){var n=this;t.preventDefault();var a=new FormData(e),o=new XMLHttpRequest,s={submittedAt:(new Date).getTime(),fields:[{name:"firstname",value:a.get("name")},{name:"lastname",value:a.get("last_name")},{name:"email",value:a.get("email")},{name:"phone",value:a.get("phone")},{name:"company",value:a.get("company")},{name:"jobtitle",value:a.get("position")},{name:"numemployees",value:a.get("size")},{name:"country",value:a.get("country")}],context:{pageUri:"https://www.intellectsoft.net/l/27/digital-transformation-hospitality-tech-guide",pageName:"Digital Transformation in Hospitality [Technical Guide] | Slagato technology"}},r=JSON.stringify(s),i=document.querySelector(".contact-form .success");document.querySelector(".webinar-digital .contact-form .form-header");o.open("POST","https://api.hsforms.com/submissions/v3/integration/submit/20037848/b8f620b7-cb50-4b59-9ac4-84920cd9b88e"),o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){4==o.readyState&&200==o.status?(window.dataLayer.push({event:"FormSubmit",Type:"Download Ebook"}),e.classList.add("hidden"),i.classList.remove("hidden")):4==o.readyState&&400==o.status?(JSON.parse(o.response).errors.forEach(function(e){"INVALID_EMAIL"!=e.errorType&&"BLOCKED_EMAIL"!=e.errorType||n.showErrors({email:"Please use your corporate email"})}),console.log(JSON.parse(o.response).errors)):(4==o.readyState&&403==o.status||4==o.readyState&&404==o.status)&&console.log(JSON.parse(o.response).errors)},o.send(r)}})})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsIm9uUmVzaXplIiwid2luZG93Iiwid2lkdGgiLCJvbiIsInRoaXMiLCJ0b2dnbGVDbGFzcyIsInNsaWRlVG9nZ2xlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiJHRoaXMiLCJmaW5kIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInBhcmVudCIsIm9mZiIsInZhbGlkYXRlSW5wdXQiLCJpbnB1dCIsInZhbHVlIiwidHJpbSIsIml0aSIsImlzVmFsaWROdW1iZXIiLCJwYXJlbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiZG9jdW1lbnQiLCJyZWFkeSIsInF1ZXJ5U2VsZWN0b3IiLCJjb3VudHJ5IiwiaW50bFRlbElucHV0IiwidXRpbHNTY3JpcHQiLCJnZXRTZWxlY3RlZENvdW50cnlEYXRhIiwibmFtZSIsInJlcGxhY2UiLCJhZGRFdmVudExpc3RlbmVyIiwibGVuZ3RoIiwiYXR0ciIsInByZXBlbmQiLCJBT1MiLCJpbml0IiwiZXZlbnQiLCJpZCIsInRvcCIsIm9mZnNldCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJyZXNpemUiLCJqUXVlcnkiLCJvbmxvYWQiLCJ2YWxpZGF0b3IiLCJhZGRNZXRob2QiLCJlbGVtZW50Iiwib3B0aW9uYWwiLCJ0ZXN0IiwiZWFjaCIsInZhbGlkYXRlIiwiZXJyb3JDbGFzcyIsInZhbGlkQ2xhc3MiLCJzaG93RXJyb3JzIiwiZXJyb3JNYXAiLCJOb3RpZnkiLCJ1cGxvYWRFcnJvck1lc3NhZ2UiLCJub3RpZnlEZWxheSIsImRlZmF1bHRTaG93RXJyb3JzIiwiaGlnaGxpZ2h0IiwiZWxlbSIsImFkZENsYXNzIiwidW5oaWdobGlnaHQiLCJydWxlcyIsInJlcXVpcmVkIiwiZW5nbGlzaHNvbmx5IiwibWF4bGVuZ3RoIiwibGFzdF9uYW1lIiwicGhvbmUiLCJudW1iZXIiLCJtaW5sZW5ndGgiLCJjb21wYW55Iiwic2l6ZSIsImVtYWlsIiwiZGVwZW5kcyIsInZhbCIsIm1lc3NhZ2VzIiwicG9zaXRpb24iLCJzdWJtaXRIYW5kbGVyIiwiZm9ybSIsInR0aGlzIiwicm93RGF0YSIsIkZvcm1EYXRhIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJkYXRhIiwic3VibWl0dGVkQXQiLCJEYXRlIiwiZ2V0VGltZSIsImZpZWxkcyIsImdldCIsImNvbnRleHQiLCJwYWdlVXJpIiwicGFnZU5hbWUiLCJmaW5hbF9kYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInN1Y2Nlc3NNZXNzYWdlIiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwiZGF0YUxheWVyIiwicHVzaCIsIlR5cGUiLCJwYXJzZSIsInJlc3BvbnNlIiwiZXJyb3JzIiwiZm9yRWFjaCIsImVudHJ5IiwiZXJyb3JUeXBlIiwiY29uc29sZSIsImxvZyIsInNlbmQiXSwibWFwcGluZ3MiOiJjQUdBLFNBQUFBLEdBRUEsU0FBQUMsSUFDQUQsRUFBQUUsUUFBQUMsUUFBQSxLQUNBSCxFQUFBLCtCQUFBSSxHQUFBLFFBQUEsV0FDQUosRUFBQUssTUFBQUMsWUFBQSxjQUNBTixFQUFBLDRCQUFBTyxZQUFBLFVBR0FQLEVBQUEsK0JBQUFJLEdBQUEsUUFBQSxTQUFBSSxHQUNBQSxFQUFBQyxpQkFFQSxJQUFBQyxFQUFBVixFQUFBSyxNQUFBTSxLQUFBLGFBRUFELEVBQUFFLFNBQUEsUUFDQUYsRUFBQUcsWUFBQSxTQUVBSCxFQUFBSSxTQUFBSCxLQUFBLGFBQUFFLFlBQUEsUUFDQUgsRUFBQUosWUFBQSxhQUlBTixFQUFBLCtCQUFBZSxJQUFBLFNBQ0FmLEVBQUEsK0JBQUFlLElBQUEsVUFJQSxTQUFBQyxFQUFBQyxHQUNBQSxFQUFBQyxNQUFBQyxTQUNBQyxJQUFBQyxpQkFDQUosRUFBQUssY0FBQUEsY0FBQUMsVUFBQUMsT0FBQSxhQUNBUCxFQUFBSyxjQUFBQSxjQUFBQyxVQUFBRSxJ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QUFELEVBQUFDLFdBQ0EvQixFQUFBM0IsV0FBQSxDQUFBb0IsTUFBQSxzQ0FHQXVDLFFBQUFDLElBQUFsQixLQUFBVyxNQUFBdkIsRUFBQXdCLFVBQUFDLFVBQ0EsR0FBQXpCLEVBQUFrQixZQUFBLEtBQUFsQixFQUFBbUIsUUFFQSxHQUFBbkIsRUFBQWtCLFlBQUEsS0FBQWxCLEVBQUFtQixTQURBVSxRQUFBQyxJQUFBbEIsS0FBQVcsTUFBQXZCLEVBQUF3QixVQUFBQyxTQU1BekIsRUFBQStCLEtBQUFwQiIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG47XG4oZnVuY3Rpb24gKCQpIHtcblxuICBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgICQoJy5mb290ZXJfX21lbnUgLmhhcy1kcm9wZG93bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYXJyb3ctZG93bicpO1xuICAgICAgICAkKCcuYXJyb3ctZG93biAudG9nZ2xlLW1lbnUnKS5zbGlkZVRvZ2dsZSgnc2xvdycpO1xuICAgICAgfSk7XG5cbiAgICAgICQoJy5mb290ZXJfX21lbnUgLmhhcy1kcm9wZG93bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLmZpbmQoJy5zdWItbWVudScpO1xuXG4gICAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygnc2hvdycpKSB7XG4gICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkdGhpcy5wYXJlbnQoKS5maW5kKCcuc3ViLW1lbnUnKS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgICAgICR0aGlzLnRvZ2dsZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuZm9vdGVyX19tZW51IC5oYXMtZHJvcGRvd24nKS5vZmYoJ2NsaWNrJyk7XG4gICAgICAkKCcuZm9vdGVyX19tZW51IC5oYXMtZHJvcGRvd24nKS5vZmYoJ2NsaWNrJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVJbnB1dChpbnB1dCkge1xuICAgIGlmIChpbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgIGlmIChpdGkuaXNWYWxpZE51bWJlcigpKSB7XG4gICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGFzLWVycm9yXCIpO1xuICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhhcy1zdWNjZXNzXCIpO1xuICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGFzLXN1Y2Nlc3NcIik7XG4gICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGFzLWVycm9yXCIpO1xuICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCAncGhvbmUtbm8tc3VjY2VzcycpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bob25lXCIpO1xuICAgIHZhciBjb3VudHJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb3VudHJ5XCIpO1xuICAgIHdpbmRvdy5pdGkgPSB3aW5kb3cuaW50bFRlbElucHV0KGlucHV0LCB7XG4gICAgICB1dGlsc1NjcmlwdDogXCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9pbnRsLXRlbC1pbnB1dC84LjQuNi9qcy91dGlscy5qc1wiXG4gICAgfSk7XG4gICAgY291bnRyeS52YWx1ZSA9IGl0aS5nZXRTZWxlY3RlZENvdW50cnlEYXRhKCkubmFtZS5yZXBsYWNlKC9cXHMqXFwoLio/XFwpXFxzKi9nLCAnJyk7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNvdW50cnljaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgY291bnRyeS52YWx1ZSA9IGl0aS5nZXRTZWxlY3RlZENvdW50cnlEYXRhKCkubmFtZS5yZXBsYWNlKC9cXHMqXFwoLio/XFwpXFxzKi9nLCAnJyk7XG4gICAgICB2YWxpZGF0ZUlucHV0KGlucHV0KTtcbiAgICB9KTtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YWxpZGF0ZUlucHV0KGlucHV0KTtcbiAgICB9KTtcblxuICAgIGlmICgkKCcubW9iaWxlLWFwcC1ndWlkZTExJykubGVuZ3RoKSB7XG5cbiAgICAgICQoJy5qcy10aHhfX2xpbmsnKS5hdHRyKFwiaHJlZlwiLCBcImh0dHBzOi8vd3d3LmludGVsbGVjdHNvZnQubmV0L2Jsb2cvd3AtY29udGVudC91cGxvYWRzL0d1aWRlLURpZ2l0YWwtVHJhbnNmb3JtYXRpb24taW4tSG9zcGl0YWxpdHkucGRmXCIpO1xuICAgICAgJCgnLmpzLXRoeF9faW1hZ2UnKS5wcmVwZW5kKCc8aW1nIHNyYz1cImh0dHBzOi8vd3d3LmludGVsbGVjdHNvZnQubmV0L2Jsb2cvd3AtY29udGVudC91cGxvYWRzL2Jvb2stbW9ja3VwLTEtMS5wbmdcIiBhbHQ9XCJcIj4nKTtcbiAgICB9XG5cbiAgICBvblJlc2l6ZSgpO1xuXG4gICAgQU9TLmluaXQoKTtcblxuICAgICQoXCIubWFpbi1oZWFkZXJcIikub24oXCJjbGlja1wiLCBcIi5tYWluLWJ0blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICB0b3AgPSAkKGlkKS5vZmZzZXQoKS50b3A7XG4gICAgICAkKCdib2R5LGh0bWwnKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiB0b3AgfSwgMTUwMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgIG9uUmVzaXplKCk7XG4gIH0pO1xufSkoalF1ZXJ5KTtcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKFwiZW5nbGlzaHNvbmx5XCIsIGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IC9eW2EteiBdKyQvaS50ZXN0KHZhbHVlKTtcbiAgfSwgXCJPbmx5IGxhdGluIGxldHRlcnMgYXJlIGFsbG93ZWQuXCIpO1xuXG4gICQudmFsaWRhdG9yLmFkZE1ldGhvZChcIml0aXZhbGlkbnVtYmVyXCIsIGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCkge1xuICAgIHJldHVybiBpdGkuaXNWYWxpZE51bWJlcigpO1xuICB9LCBcIkludmFsaWQgbnVtYmVyLlwiKTtcblxuICAkKCcuY29udGFjdC1mb3JtIGZvcm0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnZhbGlkYXRlKHtcbiAgICAgIGVycm9yQ2xhc3M6ICdoYXMtZXJyb3InLFxuICAgICAgdmFsaWRDbGFzczogJ2hhcy1zdWNjZXNzJyxcbiAgICAgIHNob3dFcnJvcnM6IGZ1bmN0aW9uIHNob3dFcnJvcnMoZXJyb3JNYXApIHtcbiAgICAgICAgaWYgKGVycm9yTWFwWydhdHRhY2gnXSkgTm90aWZ5KHVwbG9hZEVycm9yTWVzc2FnZSwgbm90aWZ5RGVsYXkpO1xuICAgICAgICB0aGlzLmRlZmF1bHRTaG93RXJyb3JzKCk7XG4gICAgICB9LFxuICAgICAgaGlnaGxpZ2h0OiBmdW5jdGlvbiBoaWdobGlnaHQoZWxlbSwgZXJyb3JDbGFzcywgdmFsaWRDbGFzcykge1xuICAgICAgICB2YXIgZWxlbWVudCA9ICQoZWxlbSk7XG4gICAgICAgIGlmIChlbGVtZW50LmF0dHIoJ25hbWUnKSA9PT0gJ3Bob25lJykge1xuICAgICAgICAgIGVsZW1lbnQucGFyZW50KCkucGFyZW50KCkuYWRkQ2xhc3MoZXJyb3JDbGFzcykucmVtb3ZlQ2xhc3ModmFsaWRDbGFzcyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgICQoZWxlbSkucGFyZW50KCkuYWRkQ2xhc3MoZXJyb3JDbGFzcykucmVtb3ZlQ2xhc3ModmFsaWRDbGFzcyk7XG4gICAgICB9LFxuICAgICAgdW5oaWdobGlnaHQ6IGZ1bmN0aW9uIHVuaGlnaGxpZ2h0KGVsZW0sIGVycm9yQ2xhc3MsIHZhbGlkQ2xhc3MpIHtcbiAgICAgICAgJChlbGVtKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhlcnJvckNsYXNzKS5hZGRDbGFzcyh2YWxpZENsYXNzKTtcbiAgICAgIH0sXG4gICAgICBydWxlczoge1xuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgZW5nbGlzaHNvbmx5OiB0cnVlLFxuICAgICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICAgIH0sXG4gICAgICAgIGxhc3RfbmFtZToge1xuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIGVuZ2xpc2hzb25seTogdHJ1ZSxcbiAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICB9LFxuICAgICAgICBwaG9uZToge1xuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIG51bWJlcjogdHJ1ZSxcbiAgICAgICAgICBtYXhsZW5ndGg6IDI1NSxcbiAgICAgICAgICBtaW5sZW5ndGg6IDVcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGFueToge1xuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIGVuZ2xpc2hzb25seTogdHJ1ZSxcbiAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICB9LFxuICAgICAgICBjb3VudHJ5OiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgc2l6ZToge1xuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIGRlcGVuZHM6IGZ1bmN0aW9uIGRlcGVuZHMoKSB7XG4gICAgICAgICAgICAgICQodGhpcykudmFsKCQudHJpbSgkKHRoaXMpLnZhbCgpKSk7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgZW1haWw6ICdQbGVhc2UgdXNlIHlvdXIgY29ycG9yYXRlIGVtYWlsJyxcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcGhvbmU6IGZhbHNlLFxuICAgICAgICBjb3VudHJ5OiBmYWxzZSxcbiAgICAgICAgc2l6ZTogZmFsc2UsXG4gICAgICAgIGNvbXBhbnk6IGZhbHNlLFxuICAgICAgICBsYXN0X25hbWU6IGZhbHNlLFxuICAgICAgICBuYW1lOiBmYWxzZSxcbiAgICAgICAgcG9zaXRpb246IGZhbHNlXG4gICAgICB9LFxuICAgICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gc3VibWl0SGFuZGxlcihmb3JtLCBldmVudCkge1xuICAgICAgICB2YXIgdHRoaXMgPSB0aGlzO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgcm93RGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBuZXcgcmVxdWVzdFxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIC8vIEV4YW1wbGUgcmVxdWVzdCBKU09OOlxuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICBcInN1Ym1pdHRlZEF0XCI6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgIFwiZmllbGRzXCI6IFt7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJmaXJzdG5hbWVcIixcbiAgICAgICAgICAgIFwidmFsdWVcIjogcm93RGF0YS5nZXQoJ25hbWUnKVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImxhc3RuYW1lXCIsXG4gICAgICAgICAgICBcInZhbHVlXCI6IHJvd0RhdGEuZ2V0KCdsYXN0X25hbWUnKVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImVtYWlsXCIsXG4gICAgICAgICAgICBcInZhbHVlXCI6IHJvd0RhdGEuZ2V0KCdlbWFpbCcpXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwicGhvbmVcIixcbiAgICAgICAgICAgIFwidmFsdWVcIjogcm93RGF0YS5nZXQoJ3Bob25lJylcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJjb21wYW55XCIsXG4gICAgICAgICAgICBcInZhbHVlXCI6IHJvd0RhdGEuZ2V0KCdjb21wYW55JylcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJqb2J0aXRsZVwiLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiByb3dEYXRhLmdldCgncG9zaXRpb24nKVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIm51bWVtcGxveWVlc1wiLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiByb3dEYXRhLmdldCgnc2l6ZScpXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiY291bnRyeVwiLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiByb3dEYXRhLmdldCgnY291bnRyeScpXG4gICAgICAgICAgfV0sXG4gICAgICAgICAgXCJjb250ZXh0XCI6IHtcbiAgICAgICAgICAgIFwicGFnZVVyaVwiOiBcImh0dHBzOi8vd3d3LmludGVsbGVjdHNvZnQubmV0L2wvMjcvZGlnaXRhbC10cmFuc2Zvcm1hdGlvbi1ob3NwaXRhbGl0eS10ZWNoLWd1aWRlXCIsXG4gICAgICAgICAgICBcInBhZ2VOYW1lXCI6IFwiRGlnaXRhbCBUcmFuc2Zvcm1hdGlvbiBpbiBIb3NwaXRhbGl0eSBbVGVjaG5pY2FsIEd1aWRlXSB8IEludGVsbGVjdHNvZnRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGZpbmFsX2RhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgdmFyIHN1Y2Nlc3NNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QtZm9ybSAuc3VjY2VzcycpO1xuICAgICAgICB2YXIgc3VjY2Vzc0hlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2ViaW5hci1kaWdpdGFsIC5jb250YWN0LWZvcm0gLmZvcm0taGVhZGVyJyk7XG4gICAgICAgIHhoci5vcGVuKCdQT1NUJywgJ2h0dHBzOi8vYXBpLmhzZm9ybXMuY29tL3N1Ym1pc3Npb25zL3YzL2ludGVncmF0aW9uL3N1Ym1pdC8yMDAzNzg0OC9iOGY2MjBiNy1jYjUwLTRiNTktOWFjNC04NDkyMGNkOWI4OGUnKTtcbiAgICAgICAgLy8gU2V0cyB0aGUgdmFsdWUgb2YgdGhlICdDb250ZW50LVR5cGUnIEhUVFAgcmVxdWVzdCBoZWFkZXJzIHRvICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiB4aHIuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgLy8gUmV0dXJucyBhIDIwMCByZXNwb25zZSBpZiB0aGUgc3VibWlzc2lvbiBpcyBzdWNjZXNzZnVsLlxuICAgICAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtcbiAgICAgICAgICAgICAgJ2V2ZW50JzogJ0Zvcm1TdWJtaXQnLFxuICAgICAgICAgICAgICAnVHlwZSc6ICdEb3dubG9hZCBFYm9vaydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiB4aHIuc3RhdHVzID09IDQwMCkge1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKS5lcnJvcnM7IC8vIFJldHVybnMgYSA0MDAgZXJyb3IgdGhlIHN1Ym1pc3Npb24gaXMgcmVqZWN0ZWQuXG4gICAgICAgICAgICBlcnJvcnMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5LmVycm9yVHlwZSA9PSBcIklOVkFMSURfRU1BSUxcIiB8fCBlbnRyeS5lcnJvclR5cGUgPT0gXCJCTE9DS0VEX0VNQUlMXCIpIHtcbiAgICAgICAgICAgICAgICB0dGhpcy5zaG93RXJyb3JzKHsgJ2VtYWlsJzogJ1BsZWFzZSB1c2UgeW91ciBjb3Jwb3JhdGUgZW1haWwnIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKS5lcnJvcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiB4aHIuc3RhdHVzID09IDQwMykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5wYXJzZSh4aHIucmVzcG9uc2UpLmVycm9ycyk7IC8vIFJldHVybnMgYSA0MDMgZXJyb3IgaWYgdGhlIHBvcnRhbCBpc24ndCBhbGxvd2VkIHRvIHBvc3Qgc3VibWlzc2lvbnMuXG4gICAgICAgICAgfSBlbHNlIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0ICYmIHhoci5zdGF0dXMgPT0gNDA0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKHhoci5yZXNwb25zZSkuZXJyb3JzKTsgLy9SZXR1cm5zIGEgNDA0IGVycm9yIGlmIHRoZSBmb3JtR3VpZCBpc24ndCBmb3VuZFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2VuZHMgdGhlIHJlcXVlc3RcbiAgICAgICAgeGhyLnNlbmQoZmluYWxfZGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTsiXX0=
