"use strict";window.onload=function(){$.validator.addMethod("englishsonly",function(e,t){return this.optional(t)||/^[a-z ]+$/i.test(e)},"Only latin letters are allowed."),$.validator.addMethod("itivalidnumber",function(e,t){return iti.isValidNumber()},"Invalid number."),$(".contact-form form").each(function(){$(this).validate({errorClass:"has-error",validClass:"has-success",showErrors:function(e){e.attach&&Notify(uploadErrorMessage,notifyDelay),this.defaultShowErrors()},highlight:function(e,t,n){$(e).parent().addClass(t).removeClass(n)},unhighlight:function(e,t,n){$(e).parent().removeClass(t).addClass(n)},rules:{name:{required:!0,englishsonly:!0,maxlength:255},last_name:{required:!0,englishsonly:!0,maxlength:255},phone:{required:!0,itivalidnumber:!0},company:{required:!0,englishsonly:!0,maxlength:255},position:{required:!0,englishsonly:!0,maxlength:255},country:{required:!0},size:{required:!0},email:{required:{depends:function(){return $(this).val($.trim($(this).val())),!0}},email:!0,maxlength:255}},messages:{email:{email:"Please use your corporate email",required:!1},phone:!1,country:!1,size:!1,company:!1,last_name:!1,name:!1,position:!1},submitHandler:function(e,t){var n=this;t.preventDefault();var a=new FormData(e),s=new XMLHttpRequest,o={submittedAt:(new Date).getTime(),fields:[{name:"firstname",value:a.get("name")},{name:"lastname",value:a.get("last_name")},{name:"email",value:a.get("email")},{name:"phone",value:a.get("phone")},{name:"company",value:a.get("company")},{name:"jobtitle",value:a.get("position")},{name:"numemployees",value:a.get("size")},{name:"country",value:a.get("country")}],context:{pageUri:"https://www.intellectsoft.net/l/34/euro-accident-healthcare-insurance-provider-case-study",pageName:"Euro Accident  [Case Study] | Slagato technology"}},r=JSON.stringify(o),i=document.querySelector(".success");s.open("POST","https://api.hsforms.com/submissions/v3/integration/submit/20037848/036e4269-3fa3-4eaf-a437-24e38a92932b"),s.setRequestHeader("Content-Type","application/json"),s.onreadystatechange=function(){if(4==s.readyState&&200==s.status)dataLayer.push({event:"EbookDownload"}),e.classList.add("hidden"),i.classList.remove("hidden");else if(4==s.readyState&&400==s.status){JSON.parse(s.response).errors.forEach(function(e){"INVALID_EMAIL"!=e.errorType&&"BLOCKED_EMAIL"!=e.errorType||n.showErrors({email:"Please use your corporate email"})}),console.log(JSON.parse(s.response).errors)}else(4==s.readyState&&403==s.status||4==s.readyState&&404==s.status)&&console.log(JSON.parse(s.response).errors)},s.send(r)}})})},function(){function n(){$(window).width()<768?($(".footer__menu .has-dropdown").on("click",function(){$(this).toggleClass("arrow-down"),$(".arrow-down .toggle-menu").slideToggle("slow")}),$(".footer__menu .has-dropdown").on("click",function(e){e.preventDefault();var t=$(this).find(".sub-menu");t.hasClass("show")?t.removeClass("show"):(t.parent().find(".sub-menu").removeClass("show"),t.toggleClass("show"))})):($(".footer__menu .has-dropdown").off("click"),$(".footer__menu .has-dropdown").off("click"))}function a(e){e.value.trim()&&(iti.isValidNumber()?(e.parentElement.parentElement.classList.remove("has-error"),e.parentElement.parentElement.classList.add("has-success"),e.parentElement.removeAttribute("id")):(e.parentElement.parentElement.classList.remove("has-success"),e.parentElement.parentElement.classList.add("has-error"),e.parentElement.setAttribute("id","phone-no-success")))}$(".euro-accident").length&&($(".js-thx__link").attr("href","https://www.intellectsoft.net/bloggg/wp-content/uploads/euro-accident-healthcare-insurance-provider-case-study.pdf"),$(".js-thx__image").prepend('<img src="https://www.intellectsoft.net/bloggg/wp-content/uploads/EuroAccident-1-3.png" alt="">')),$(document).ready(function(){var t=document.querySelector("#phone"),e=document.querySelector("#country");window.iti=window.intlTelInput(t,{utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/8.4.6/js/utils.js"}),e.value=iti.getSelectedCountryData().name.replace(/\s*\(.*?\)\s*/g,""),t.addEventListener("countrychange",function(){e.value=iti.getSelectedCountryData().name.replace(/\s*\(.*?\)\s*/g,""),a(t)}),t.addEventListener("input",function(e){a(t)}),n(),$(".preview-slider").slick({dots:!0,arrows:!0,slidesToShow:1,slidesToScroll:1,infinite:!0}),$(".main-content").on("click","a",function(e){e.preventDefault();var t=$(this).attr("href"),n=$(t).offset().top;$("body,html").animate({scrollTop:n},1500)})}),$(window).resize(function(){n()})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiJCIsInZhbGlkYXRvciIsImFkZE1ldGhvZCIsInZhbHVlIiwiZWxlbWVudCIsInRoaXMiLCJvcHRpb25hbCIsInRlc3QiLCJpdGkiLCJpc1ZhbGlkTnVtYmVyIiwiZWFjaCIsInZhbGlkYXRlIiwiZXJyb3JDbGFzcyIsInZhbGlkQ2xhc3MiLCJzaG93RXJyb3JzIiwiZXJyb3JNYXAiLCJOb3RpZnkiLCJ1cGxvYWRFcnJvck1lc3NhZ2UiLCJub3RpZnlEZWxheSIsImRlZmF1bHRTaG93RXJyb3JzIiwiaGlnaGxpZ2h0IiwiZWxlbSIsInBhcmVudCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJ1bmhpZ2hsaWdodCIsInJ1bGVzIiwibmFtZSIsInJlcXVpcmVkIiwiZW5nbGlzaHNvbmx5IiwibWF4bGVuZ3RoIiwibGFzdF9uYW1lIiwicGhvbmUiLCJpdGl2YWxpZG51bWJlciIsImNvbXBhbnkiLCJwb3NpdGlvbiIsImNvdW50cnkiLCJzaXplIiwiZW1haWwiLCJkZXBlbmRzIiwidmFsIiwidHJpbSIsIm1lc3NhZ2VzIiwic3VibWl0SGFuZGxlciIsImZvcm0iLCJldmVudCIsInR0aGlzIiwicHJldmVudERlZmF1bHQiLCJyb3dEYXRhIiwiRm9ybURhdGEiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsImRhdGEiLCJzdWJtaXR0ZWRBdCIsIkRhdGUiLCJnZXRUaW1lIiwiZmllbGRzIiwiZ2V0IiwiY29udGV4dCIsInBhZ2VVcmkiLCJwYWdlTmFtZSIsImZpbmFsX2RhdGEiLCJKU09OIiwic3RyaW5naWZ5Iiwic3VjY2Vzc01lc3NhZ2UiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJkYXRhTGF5ZXIiLCJwdXNoIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwicGFyc2UiLCJyZXNwb25zZSIsImVycm9ycyIsImZvckVhY2giLCJlbnRyeSIsImVycm9yVHlwZSIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwib25SZXNpemUiLCJ3aWR0aCIsIm9uIiwidG9nZ2xlQ2xhc3MiLCJzbGlkZVRvZ2dsZSIsImUiLCIkdGhpcyIsImZpbmQiLCJoYXNDbGFzcyIsIm9mZiIsInZhbGlkYXRlSW5wdXQiLCJpbnB1dCIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJsZW5ndGgiLCJhdHRyIiwicHJlcGVuZCIsInJlYWR5IiwiaW50bFRlbElucHV0IiwidXRpbHNTY3JpcHQiLCJnZXRTZWxlY3RlZENvdW50cnlEYXRhIiwicmVwbGFjZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGljayIsImRvdHMiLCJhcnJvd3MiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImluZmluaXRlIiwiaWQiLCJ0b3AiLCJvZmZzZXQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwicmVzaXplIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUVBQSxPQUFBQyxPQUFBLFdBQ0FDLEVBQUFDLFVBQUFDLFVBQUEsZUFBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFDLEtBQUFDLFNBQUFGLElBQUEsYUFBQUcsS0FBQUosSUFDQSxtQ0FFQUgsRUFBQUMsVUFBQUMsVUFBQSxpQkFBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFJLElBQUFDLGlCQUNBLG1CQUVBVCxFQUFBLHNCQUFBVSxLQUFBLFdBQ0FWLEVBQUFLLE1BQUFNLFNBQUEsQ0FDQUMsV0FBQSxZQUNBQyxXQUFBLGNBQ0FDLFdBQUEsU0FBQUMsR0FDQUEsRUFBQSxRQUFBQyxPQUFBQyxtQkFBQUMsYUFDQWIsS0FBQWMscUJBRUFDLFVBQUEsU0FBQUMsRUFBQVQsRUFBQUMsR0FDQWIsRUFBQXFCLEdBQUFDLFNBQUFDLFNBQUFYLEdBQUFZLFlBQUFYLElBRUFZLFlBQUEsU0FBQUosRUFBQVQsRUFBQUMsR0FDQWIsRUFB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YUFBQSxFQUNBQyxlQUFBLEVBQ0FDLFVBQUEsSUFHQW5ILEVBQUEsaUJBQUF3RixHQUFBLFFBQUEsSUFBQSxTQUFBM0MsR0FDQUEsRUFBQUUsaUJBQ0EsSUFBQXFFLEVBQUFwSCxFQUFBSyxNQUFBaUcsS0FBQSxRQUNBZSxFQUFBckgsRUFBQW9ILEdBQUFFLFNBQUFELElBQ0FySCxFQUFBLGFBQUF1SCxRQUFBLENBQUFDLFVBQUFILEdBQUEsVUFJQXJILEVBQUFGLFFBQUEySCxPQUFBLFdBQ0FuQyxNQWpGQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICQudmFsaWRhdG9yLmFkZE1ldGhvZChcImVuZ2xpc2hzb25seVwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCAvXlthLXogXSskL2kudGVzdCh2YWx1ZSk7XG4gIH0sIFwiT25seSBsYXRpbiBsZXR0ZXJzIGFyZSBhbGxvd2VkLlwiKTtcblxuICAkLnZhbGlkYXRvci5hZGRNZXRob2QoXCJpdGl2YWxpZG51bWJlclwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICByZXR1cm4gaXRpLmlzVmFsaWROdW1iZXIoKTtcbiAgfSwgXCJJbnZhbGlkIG51bWJlci5cIik7XG5cbiAgJCgnLmNvbnRhY3QtZm9ybSBmb3JtJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS52YWxpZGF0ZSh7XG4gICAgICBlcnJvckNsYXNzOiAnaGFzLWVycm9yJyxcbiAgICAgIHZhbGlkQ2xhc3M6ICdoYXMtc3VjY2VzcycsXG4gICAgICBzaG93RXJyb3JzOiBmdW5jdGlvbiBzaG93RXJyb3JzKGVycm9yTWFwKSB7XG4gICAgICAgIGlmIChlcnJvck1hcFsnYXR0YWNoJ10pIE5vdGlmeSh1cGxvYWRFcnJvck1lc3NhZ2UsIG5vdGlmeURlbGF5KTtcbiAgICAgICAgdGhpcy5kZWZhdWx0U2hvd0Vycm9ycygpO1xuICAgICAgfSxcbiAgICAgIGhpZ2hsaWdodDogZnVuY3Rpb24gaGlnaGxpZ2h0KGVsZW0sIGVycm9yQ2xhc3MsIHZhbGlkQ2xhc3MpIHtcbiAgICAgICAgJChlbGVtKS5wYXJlbnQoKS5hZGRDbGFzcyhlcnJvckNsYXNzKS5yZW1vdmVDbGFzcyh2YWxpZENsYXNzKTtcbiAgICAgIH0sXG4gICAgICB1bmhpZ2hsaWdodDogZnVuY3Rpb24gdW5oaWdobGlnaHQoZWxlbSwgZXJyb3JDbGFzcywgdmFsaWRDbGFzcykge1xuICAgICAgICAkKGVsZW0pLnBhcmVudCgpLnJlbW92ZUNsYXNzKGVycm9yQ2xhc3MpLmFkZENsYXNzKHZhbGlkQ2xhc3MpO1xuICAgICAgfSxcbiAgICAgIHJ1bGVzOiB7XG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICBlbmdsaXNoc29ubHk6IHRydWUsXG4gICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgfSxcbiAgICAgICAgbGFzdF9uYW1lOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgZW5nbGlzaHNvbmx5OiB0cnVlLFxuICAgICAgICAgIG1heGxlbmd0aDogMjU1XG4gICAgICAgIH0sXG4gICAgICAgIHBob25lOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgaXRpdmFsaWRudW1iZXI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGFueToge1xuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIGVuZ2xpc2hzb25seTogdHJ1ZSxcbiAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICB9LFxuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIGVuZ2xpc2hzb25seTogdHJ1ZSxcbiAgICAgICAgICBtYXhsZW5ndGg6IDI1NVxuICAgICAgICB9LFxuICAgICAgICBjb3VudHJ5OiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgc2l6ZToge1xuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIGRlcGVuZHM6IGZ1bmN0aW9uIGRlcGVuZHMoKSB7XG4gICAgICAgICAgICAgICQodGhpcykudmFsKCQudHJpbSgkKHRoaXMpLnZhbCgpKSk7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgICAgbWF4bGVuZ3RoOiAyNTVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgZW1haWw6ICdQbGVhc2UgdXNlIHlvdXIgY29ycG9yYXRlIGVtYWlsJyxcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcGhvbmU6IGZhbHNlLFxuICAgICAgICBjb3VudHJ5OiBmYWxzZSxcbiAgICAgICAgc2l6ZTogZmFsc2UsXG4gICAgICAgIGNvbXBhbnk6IGZhbHNlLFxuICAgICAgICBsYXN0X25hbWU6IGZhbHNlLFxuICAgICAgICBuYW1lOiBmYWxzZSxcbiAgICAgICAgcG9zaXRpb246IGZhbHNlXG4gICAgICB9LFxuICAgICAgc3VibWl0SGFuZGxlcjogZnVuY3Rpb24gc3VibWl0SGFuZGxlcihmb3JtLCBldmVudCkge1xuICAgICAgICB2YXIgdHRoaXMgPSB0aGlzO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgcm93RGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBuZXcgcmVxdWVzdFxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIC8vIEV4YW1wbGUgcmVxdWVzdCBKU09OOlxuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICBcInN1Ym1pdHRlZEF0XCI6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgIFwiZmllbGRzXCI6IFt7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJmaXJzdG5hbWVcIixcbiAgICAgICAgICAgIFwidmFsdWVcIjogcm93RGF0YS5nZXQoJ25hbWUnKVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImxhc3RuYW1lXCIsXG4gICAgICAgICAgICBcInZhbHVlXCI6IHJvd0RhdGEuZ2V0KCdsYXN0X25hbWUnKVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcImVtYWlsXCIsXG4gICAgICAgICAgICBcInZhbHVlXCI6IHJvd0RhdGEuZ2V0KCdlbWFpbCcpXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwicGhvbmVcIixcbiAgICAgICAgICAgIFwidmFsdWVcIjogcm93RGF0YS5nZXQoJ3Bob25lJylcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJjb21wYW55XCIsXG4gICAgICAgICAgICBcInZhbHVlXCI6IHJvd0RhdGEuZ2V0KCdjb21wYW55JylcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJqb2J0aXRsZVwiLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiByb3dEYXRhLmdldCgncG9zaXRpb24nKVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIm51bWVtcGxveWVlc1wiLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiByb3dEYXRhLmdldCgnc2l6ZScpXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiY291bnRyeVwiLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiByb3dEYXRhLmdldCgnY291bnRyeScpXG4gICAgICAgICAgfV0sXG4gICAgICAgICAgXCJjb250ZXh0XCI6IHtcbiAgICAgICAgICAgIFwicGFnZVVyaVwiOiBcImh0dHBzOi8vd3d3LmludGVsbGVjdHNvZnQubmV0L2wvMzQvZXVyby1hY2NpZGVudC1oZWFsdGhjYXJlLWluc3VyYW5jZS1wcm92aWRlci1jYXNlLXN0dWR5XCIsXG4gICAgICAgICAgICBcInBhZ2VOYW1lXCI6IFwiRXVybyBBY2NpZGVudCAgW0Nhc2UgU3R1ZHldIHwgSW50ZWxsZWN0c29mdFwiXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgZmluYWxfZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICB2YXIgc3VjY2Vzc01lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3VjY2VzcycpO1xuICAgICAgICB4aHIub3BlbignUE9TVCcsICdodHRwczovL2FwaS5oc2Zvcm1zLmNvbS9zdWJtaXNzaW9ucy92My9pbnRlZ3JhdGlvbi9zdWJtaXQvMjAwMzc4NDgvMDM2ZTQyNjktM2ZhMy00ZWFmLWE0MzctMjRlMzhhOTI5MzJiJyk7XG4gICAgICAgIC8vIFNldHMgdGhlIHZhbHVlIG9mIHRoZSAnQ29udGVudC1UeXBlJyBIVFRQIHJlcXVlc3QgaGVhZGVycyB0byAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IDQgJiYgeGhyLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgIC8vIFJldHVybnMgYSAyMDAgcmVzcG9uc2UgaWYgdGhlIHN1Ym1pc3Npb24gaXMgc3VjY2Vzc2Z1bC5cbiAgICAgICAgICAgIGRhdGFMYXllci5wdXNoKHsgJ2V2ZW50JzogJ0Vib29rRG93bmxvYWQnIH0pO1xuICAgICAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiB4aHIuc3RhdHVzID09IDQwMCkge1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKS5lcnJvcnM7IC8vIFJldHVybnMgYSA0MDAgZXJyb3IgdGhlIHN1Ym1pc3Npb24gaXMgcmVqZWN0ZWQuXG4gICAgICAgICAgICBlcnJvcnMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5LmVycm9yVHlwZSA9PSBcIklOVkFMSURfRU1BSUxcIiB8fCBlbnRyeS5lcnJvclR5cGUgPT0gXCJCTE9DS0VEX0VNQUlMXCIpIHtcbiAgICAgICAgICAgICAgICB0dGhpcy5zaG93RXJyb3JzKHsgJ2VtYWlsJzogJ1BsZWFzZSB1c2UgeW91ciBjb3Jwb3JhdGUgZW1haWwnIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKS5lcnJvcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiB4aHIuc3RhdHVzID09IDQwMykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5wYXJzZSh4aHIucmVzcG9uc2UpLmVycm9ycyk7IC8vIFJldHVybnMgYSA0MDMgZXJyb3IgaWYgdGhlIHBvcnRhbCBpc24ndCBhbGxvd2VkIHRvIHBvc3Qgc3VibWlzc2lvbnMuXG4gICAgICAgICAgfSBlbHNlIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0ICYmIHhoci5zdGF0dXMgPT0gNDA0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKHhoci5yZXNwb25zZSkuZXJyb3JzKTsgLy9SZXR1cm5zIGEgNDA0IGVycm9yIGlmIHRoZSBmb3JtR3VpZCBpc24ndCBmb3VuZFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2VuZHMgdGhlIHJlcXVlc3RcbiAgICAgICAgeGhyLnNlbmQoZmluYWxfZGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxuKGZ1bmN0aW9uICgpIHtcblxuICBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgICQoJy5mb290ZXJfX21lbnUgLmhhcy1kcm9wZG93bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYXJyb3ctZG93bicpO1xuICAgICAgICAkKCcuYXJyb3ctZG93biAudG9nZ2xlLW1lbnUnKS5zbGlkZVRvZ2dsZSgnc2xvdycpO1xuICAgICAgfSk7XG5cbiAgICAgICQoJy5mb290ZXJfX21lbnUgLmhhcy1kcm9wZG93bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLmZpbmQoJy5zdWItbWVudScpO1xuXG4gICAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygnc2hvdycpKSB7XG4gICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkdGhpcy5wYXJlbnQoKS5maW5kKCcuc3ViLW1lbnUnKS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgICAgICR0aGlzLnRvZ2dsZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuZm9vdGVyX19tZW51IC5oYXMtZHJvcGRvd24nKS5vZmYoJ2NsaWNrJyk7XG4gICAgICAkKCcuZm9vdGVyX19tZW51IC5oYXMtZHJvcGRvd24nKS5vZmYoJ2NsaWNrJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCQoJy5ldXJvLWFjY2lkZW50JykubGVuZ3RoKSB7XG5cbiAgICAkKCcuanMtdGh4X19saW5rJykuYXR0cihcImhyZWZcIiwgXCJodHRwczovL3d3dy5pbnRlbGxlY3Rzb2Z0Lm5ldC9ibG9nL3dwLWNvbnRlbnQvdXBsb2Fkcy9ldXJvLWFjY2lkZW50LWhlYWx0aGNhcmUtaW5zdXJhbmNlLXByb3ZpZGVyLWNhc2Utc3R1ZHkucGRmXCIpO1xuICAgICQoJy5qcy10aHhfX2ltYWdlJykucHJlcGVuZCgnPGltZyBzcmM9XCJodHRwczovL3d3dy5pbnRlbGxlY3Rzb2Z0Lm5ldC9ibG9nL3dwLWNvbnRlbnQvdXBsb2Fkcy9FdXJvQWNjaWRlbnQtMS0zLnBuZ1wiIGFsdD1cIlwiPicpO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVJbnB1dChpbnB1dCkge1xuICAgIGlmIChpbnB1dC52YWx1ZS50cmltKCkpIHtcbiAgICAgIGlmIChpdGkuaXNWYWxpZE51bWJlcigpKSB7XG4gICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGFzLWVycm9yXCIpO1xuICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhhcy1zdWNjZXNzXCIpO1xuICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGFzLXN1Y2Nlc3NcIik7XG4gICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGFzLWVycm9yXCIpO1xuICAgICAgICBpbnB1dC5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCAncGhvbmUtbm8tc3VjY2VzcycpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bob25lXCIpO1xuICAgIHZhciBjb3VudHJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb3VudHJ5XCIpO1xuICAgIHdpbmRvdy5pdGkgPSB3aW5kb3cuaW50bFRlbElucHV0KGlucHV0LCB7XG4gICAgICB1dGlsc1NjcmlwdDogXCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9pbnRsLXRlbC1pbnB1dC84LjQuNi9qcy91dGlscy5qc1wiXG4gICAgfSk7XG4gICAgY291bnRyeS52YWx1ZSA9IGl0aS5nZXRTZWxlY3RlZENvdW50cnlEYXRhKCkubmFtZS5yZXBsYWNlKC9cXHMqXFwoLio/XFwpXFxzKi9nLCAnJyk7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNvdW50cnljaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgY291bnRyeS52YWx1ZSA9IGl0aS5nZXRTZWxlY3RlZENvdW50cnlEYXRhKCkubmFtZS5yZXBsYWNlKC9cXHMqXFwoLio/XFwpXFxzKi9nLCAnJyk7XG4gICAgICB2YWxpZGF0ZUlucHV0KGlucHV0KTtcbiAgICB9KTtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YWxpZGF0ZUlucHV0KGlucHV0KTtcbiAgICB9KTtcblxuICAgIG9uUmVzaXplKCk7XG5cbiAgICAkKCcucHJldmlldy1zbGlkZXInKS5zbGljayh7XG4gICAgICBkb3RzOiB0cnVlLFxuICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICBpbmZpbml0ZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgJChcIi5tYWluLWNvbnRlbnRcIikub24oXCJjbGlja1wiLCBcImFcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdocmVmJyksXG4gICAgICAgICAgdG9wID0gJChpZCkub2Zmc2V0KCkudG9wO1xuICAgICAgJCgnYm9keSxodG1sJykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogdG9wIH0sIDE1MDApO1xuICAgIH0pO1xuICB9KTtcblxuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcbiAgICBvblJlc2l6ZSgpO1xuICB9KTtcbn0pKCk7Il19
